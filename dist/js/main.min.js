document.addEventListener("DOMContentLoaded",function(){console.log("GSAP version:",gsap.version);var e=document.querySelectorAll(".parallax-layer");let o=[{el:document.querySelector(".layer-clouds img"),startY:0,unit:"%"},{el:document.querySelector(".layer-mountains img"),startY:60,unit:"%"},{el:document.querySelector(".layer-hills img"),startY:56,unit:"%"},{el:document.querySelector(".layer-canopy-back img"),startY:55,unit:"%"},{el:document.querySelector(".layer-canopy-mid-back img"),startY:60,unit:"%"},{el:document.querySelector(".layer-canopy-mid-front img"),startY:62,unit:"%"},{el:document.querySelector(".layer-canopy-front img"),startY:51,unit:"%"},{el:document.querySelector(".birds-sm img"),startY:55,unit:"vh"},{el:document.querySelector(".birds-lg img"),startY:56,unit:"vh"}],i=[{el:document.querySelector(".birds-sm img"),startY:55,unit:"vh",xDir:-1},{el:document.querySelector(".birds-lg img"),startY:56,unit:"vh",xDir:1}],n=document.querySelector(".glass-window-overlay"),l=document.querySelector(".main-nav"),u=0,c=!1;window.addEventListener("wheel",function(e){if(c)0===window.scrollY&&e.deltaY<0&&(c=!1,u=3,e.preventDefault());else{e.preventDefault(),u+=.001*e.deltaY,u=Math.max(0,Math.min(3,u));let r=Math.min(u,1),a=Math.max(0,u-1);o.forEach(e=>{var t;e.el&&(e.unit,t=e.startY-10*r,gsap.to(e.el,{y:""+t+e.unit,duration:.8,ease:"power2.out",overwrite:!0}))}),i.forEach(e=>{var t,r,o;e.el&&(t=e.startY-10-15*a,r=20*a*e.xDir,o=1-a,gsap.to(e.el,{y:""+t+e.unit,x:r+"vw",opacity:o,duration:.8,ease:"power2.out",overwrite:!0}))}),l&&(e=1-a,t=-30*a,gsap.to(l,{opacity:e,y:t,duration:.8,ease:"power2.out",overwrite:!0}));var t,e=Math.max(0,u-2);if(n&&(t=300*e,e=Math.min(2*e,1),gsap.to(n,{width:t+"vmax",height:t+"vmax",opacity:e,duration:.8,ease:"power2.out",overwrite:!0})),3<=u&&!c){c=!0;let e=document.querySelector(".portfolio");e&&setTimeout(()=>{e.scrollIntoView({behavior:"smooth"})},300)}}},{passive:!1}),gsap.from(e,{scale:1.1,opacity:0,duration:1.5,stagger:.1,ease:"power2.out"})});